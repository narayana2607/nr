(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[272],{383:e=>{const t=e=>new Promise(((t,a)=>{const o=new FileReader;o.onload=()=>{t(o.result)},o.onerror=e=>{let{target:{error:{code:t}}}=e;a(Error(`File could not be read! Code=${t}`))},o.readAsArrayBuffer(e)})),a=async e=>{let o=e;if("undefined"===typeof e)return"undefined";if("string"===typeof e)if(/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e))o=atob(e.split(",")[1]).split("").map((e=>e.charCodeAt(0)));else{const t=await fetch(e);o=await t.arrayBuffer()}else if("undefined"!==typeof HTMLElement&&e instanceof HTMLElement)"IMG"===e.tagName&&(o=await a(e.src)),"VIDEO"===e.tagName&&(o=await a(e.poster)),"CANVAS"===e.tagName&&await new Promise((a=>{e.toBlob((async e=>{o=await t(e),a()}))}));else if("undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas){const a=await e.convertToBlob();o=await t(a)}else(e instanceof File||e instanceof Blob)&&(o=await t(e));return new Uint8Array(o)};e.exports=a},1597:(e,t,a)=>{const o=a(6125).rE,n=a(5147);e.exports={...n,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${o}/dist/worker.min.js`}},1942:e=>{e.exports=(e,t)=>{e.onmessage=e=>{let{data:a}=e;t(a)}}},2034:(e,t,a)=>{const o=a(1597),n=a(5095),r=a(4871),s=a(1942),i=a(7870),l=a(383);e.exports={defaultOptions:o,spawnWorker:n,terminateWorker:r,onMessage:s,send:i,loadImage:l}},4272:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var o=a(5043),n=a(9938),r=a.n(n),s=a(2115),i=(a(2342),a(579));const l=()=>{const[e,t]=(0,o.useState)(null),[a,n]=(0,o.useState)(null),[l,c]=(0,o.useState)(""),[d,g]=(0,o.useState)(null),[u,p]=(0,o.useState)(!1),[h,f]=(0,o.useState)(""),[m,y]=(0,o.useState)(!1);return(0,i.jsxs)("div",{className:"age-verification-container",children:[(0,i.jsx)("h2",{className:"age-verification-heading",children:"Age Verification"}),(0,i.jsxs)("div",{className:"supported-files",children:[(0,i.jsx)("h3",{children:"Supported File Types"}),(0,i.jsx)("p",{children:["JPG","JPEG","PNG","HEIC","GIF","WEBP","BMP","TIFF"].join(", ")})]}),(0,i.jsxs)("div",{className:"upload-section",children:[(0,i.jsx)("input",{type:"file",onChange:e=>{const a=e.target.files[0];return a?a.type.startsWith("image/")?a.size>20971520?f("File size exceeds 20MB. Please upload a smaller image."):(t(a),n(URL.createObjectURL(a)),f(""),void y(!1)):f("Invalid file type. Please upload an image."):f("No file selected.")},accept:"image/*",className:"file-input"}),a&&(0,i.jsx)("img",{src:a,alt:"Uploaded",className:"uploaded-image"}),(0,i.jsx)("button",{onClick:async()=>{if(!e)return f("Please select an image first.");p(!0),f(""),y(!1);try{const{data:{text:t}}=await r().recognize(e,"eng",{logger:e=>console.log("Tesseract Log:",e)});console.log("Extracted Text:\n",t);const a=(e=>{const t=[/(?:DOB|dob|birth date|date of birth)[:\s]*([\d]{1,2}[-/.][\d]{1,2}[-/.][\d]{2,4})/i,/(\d{1,2}[-/.]\d{1,2}[-/.]\d{2,4})/];for(let a of t){const t=e.match(a);if(t)return t[1]}return null})(t),o=(e=>{const t=e.split("\n").map((e=>e.trim())).filter((e=>e.length>0));return t.length>0?t[0]:"Unknown"})(t);if(c(o),a){const e=(e=>{if(!e)return null;const t=e.split(/[-/.]/);let a;a=4===t[2].length?`${t[2]}-${t[1]}-${t[0]}`:`${parseInt(t[2])>30?`19${t[2]}`:`20${t[2]}`}-${t[1]}-${t[0]}`;const o=new Date(a);if(isNaN(o.getTime()))return null;const n=new Date;let r=n.getFullYear()-o.getFullYear();const s=n.getMonth()-o.getMonth();return(s<0||0===s&&n.getDate()<o.getDate())&&r--,r})(a);g(e),y(!0),e<18?s.oR.error("Access Denied! You must be at least 18 years old.",{position:"bottom-center"}):s.oR.success(`Your current age is: ${e} years`,{position:"bottom-center"})}else s.oR.warn("Date of Birth not found in the extracted text.",{position:"bottom-center"})}catch(t){console.error("Tesseract Error:",t),f("Failed to extract text. Please try again.")}finally{p(!1)}},disabled:u,className:"extract-button",children:u?"Extracting...":"Extract Text"})]}),h&&(0,i.jsx)("p",{className:"error-message",children:h}),m&&(0,i.jsxs)("div",{className:"result-container",children:[(0,i.jsx)("h3",{className:"result-heading",children:"Verification Details"}),(0,i.jsxs)("p",{children:["Name: ",l]}),(0,i.jsxs)("p",{children:["Age: ",null!==d?d:"Not found"]})]})]})}},4402:(e,t,a)=>{const o="browser"===a(9003)("type")?e=>new URL(e,window.location.href).href:e=>e;e.exports=e=>{const t={...e};return["corePath","workerPath","langPath"].forEach((a=>{e[a]&&(t[a]=o(t[a]))})),t}},4447:function(e,t,a){const o=a(5701),{log:n}=a(9926),r=a(9593);let s=0;e.exports=()=>{const e=r("Scheduler",s),t={},a={};let i=[];s+=1;const l=()=>Object.keys(t).length,c=()=>{if(0!==i.length){const e=Object.keys(t);for(let o=0;o<e.length;o+=1)if("undefined"===typeof a[e[o]]){i[0](t[e[o]]);break}}},d=(t,r)=>new Promise(((s,l)=>{const d=o({action:t,payload:r});i.push((async e=>{i.shift(),a[e.id]=d;try{s(await e[t].apply(this,[...r,d.id]))}catch(o){l(o)}finally{delete a[e.id],c()}})),n(`[${e}]: Add ${d.id} to JobQueue`),n(`[${e}]: JobQueue length=${i.length}`),c()}));return{addWorker:a=>(t[a.id]=a,n(`[${e}]: Add ${a.id}`),n(`[${e}]: Number of workers=${l()}`),c(),a.id),addJob:async function(t){if(0===l())throw Error(`[${e}]: You need to have at least one worker before adding jobs`);for(var a=arguments.length,o=new Array(a>1?a-1:0),n=1;n<a;n++)o[n-1]=arguments[n];return d(t,o)},terminate:async()=>{Object.keys(t).forEach((async e=>{await t[e].terminate()})),i=[]},getQueueLen:()=>i.length,getNumWorkers:l}}},4588:e=>{e.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}},4871:e=>{e.exports=e=>{e.terminate()}},5095:e=>{e.exports=e=>{let t,{workerPath:a,workerBlobURL:o}=e;if(Blob&&URL&&o){const e=new Blob([`importScripts("${a}");`],{type:"application/javascript"});t=new Worker(URL.createObjectURL(e))}else t=new Worker(a);return t}},5147:e=>{e.exports={workerBlobURL:!0,logger:()=>{}}},5571:e=>{e.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}},5701:(e,t,a)=>{const o=a(9593);let n=0;e.exports=e=>{let{id:t,action:a,payload:r={}}=e,s=t;return"undefined"===typeof s&&(s=o("Job",n),n+=1),{id:s,action:a,payload:r}}},6125:e=>{"use strict";e.exports={rE:"6.0.0"}},6884:(e,t,a)=>{const o=a(7346);e.exports={recognize:async(e,t,a)=>{const n=await o(t,1,a);return n.recognize(e).finally((async()=>{await n.terminate()}))},detect:async(e,t)=>{const a=await o("osd",0,t);return a.detect(e).finally((async()=>{await a.terminate()}))}}},7346:(e,t,a)=>{const o=a(4402),n=a(5701),{log:r}=a(9926),s=a(9593),i=a(9511),{defaultOptions:l,spawnWorker:c,terminateWorker:d,onMessage:g,loadImage:u,send:p}=a(2034);let h=0;e.exports=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.LSTM_ONLY,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const m=s("Worker",h),{logger:y,errorHandler:L,...S}=o({...l,...a}),w={},E="string"===typeof e?e.split("+"):e;let A=t,N=f;const T=[i.DEFAULT,i.LSTM_ONLY].includes(t)&&!S.legacyCore;let b,R;const k=new Promise(((e,t)=>{R=e,b=t}));let x=c(S);x.onerror=e=>{b(e.message)},h+=1;const O=e=>{let{id:t,action:a,payload:o}=e;return new Promise(((e,n)=>{r(`[${m}]: Start ${t}, action=${a}`);w[`${a}-${t}`]={resolve:e,reject:n},p(x,{workerId:m,jobId:t,action:a,payload:o})}))},I=(e,t)=>O(n({id:t,action:"loadLanguage",payload:{langs:e,options:{langPath:S.langPath,dataPath:S.dataPath,cachePath:S.cachePath,cacheMethod:S.cacheMethod,gzip:S.gzip,lstmOnly:[i.DEFAULT,i.LSTM_ONLY].includes(A)&&!S.legacyLang}}})),v=(e,t,a,o)=>O(n({id:o,action:"initialize",payload:{langs:e,oem:t,config:a}}));g(x,(e=>{let{workerId:t,jobId:a,status:o,action:n,data:s}=e;const i=`${n}-${a}`;if("resolve"===o)r(`[${t}]: Complete ${a}`),w[i].resolve({jobId:a,data:s}),delete w[i];else if("reject"===o){if(w[i].reject(s),delete w[i],"load"===n&&b(s),!L)throw Error(s);L(s)}else"progress"===o&&y({...s,userJobId:a})}));const P={id:m,worker:x,load:()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),writeText:(e,t,a)=>O(n({id:a,action:"FS",payload:{method:"writeFile",args:[e,t]}})),readText:(e,t)=>O(n({id:t,action:"FS",payload:{method:"readFile",args:[e,{encoding:"utf8"}]}})),removeFile:(e,t)=>O(n({id:t,action:"FS",payload:{method:"unlink",args:[e]}})),FS:(e,t,a)=>O(n({id:a,action:"FS",payload:{method:e,args:t}})),reinitialize:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(T&&[i.TESSERACT_ONLY,i.TESSERACT_LSTM_COMBINED].includes(t))throw Error("Legacy model requested but code missing.");const n=t||A;A=n;const r=a||N;N=r;const s=("string"===typeof e?e.split("+"):e).filter((e=>!E.includes(e)));return E.push(...s),s.length>0?I(s,o).then((()=>v(e,n,r,o))):v(e,n,r,o)},setParameters:function(){return O(n({id:arguments.length>1?arguments[1]:void 0,action:"setParameters",payload:{params:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}))},recognize:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{text:!0};return O(n({id:arguments.length>3?arguments[3]:void 0,action:"recognize",payload:{image:await u(e),options:t,output:a}}))},detect:async(e,t)=>{if(T)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return O(n({id:t,action:"detect",payload:{image:await u(e)}}))},terminate:async()=>(null!==x&&(d(x),x=null),Promise.resolve())};var _;return O(n({id:_,action:"load",payload:{options:{lstmOnly:T,corePath:S.corePath,logging:S.logging}}})).then((()=>I(e))).then((()=>v(e,t,f))).then((()=>R(P))).catch((()=>{})),k}},7870:e=>{e.exports=async(e,t)=>{e.postMessage(t)}},9003:e=>{e.exports=e=>{const t={};return"undefined"!==typeof WorkerGlobalScope?t.type="webworker":"object"===typeof document?t.type="browser":"object"===typeof process&&(t.type="node"),"undefined"===typeof e?t:t[e]}},9511:e=>{e.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},9593:e=>{e.exports=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`},9926:function(e,t){var a=this;let o=!1;t.logging=o,t.setLogging=e=>{o=e},t.log=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o?console.log.apply(a,t):null}},9938:(e,t,a)=>{const o=a(4447),n=a(7346),r=a(6884),s=a(5571),i=a(9511),l=a(4588),{setLogging:c}=a(9926);e.exports={languages:s,OEM:i,PSM:l,createScheduler:o,createWorker:n,setLogging:c,...r}}}]);
//# sourceMappingURL=272.5fa894b9.chunk.js.map