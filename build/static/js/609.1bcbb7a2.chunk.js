"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[609],{1609:(e,s,t)=>{t.r(s),t.d(s,{default:()=>p});var r=t(5043),l=t(6213),n=t(3216),o=t(2115),a=(t(2342),t(579));const p=e=>{let{show:s,onClose:t}=e;const[p,c]=(0,r.useState)(""),[i,u]=(0,r.useState)([]),d=(0,n.Zp)(),h=(0,r.useCallback)((async()=>{try{const e=await l.A.get("http://localhost:3001/search",{params:{query:p}});u(e.data)}catch(e){console.error("Error during search:",e),u([])}}),[p]);(0,r.useEffect)((()=>{const e=e=>{27===e.keyCode&&t()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[s,t]),(0,r.useEffect)((()=>{p.trim()?h():u([])}),[p,h]);const m={"nnrpvtltd.studentinfo":"/studentinfo","nnrpvtltd.employee":"/employee","nnrpvtltd.portfolio":"/portfolio","nnrpvtltd.employees":"/employee"};return s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"popup-container",children:(0,a.jsxs)("div",{className:"popup-content",children:[(0,a.jsx)("button",{className:"close-btn popup-close",onClick:t,children:"X"}),(0,a.jsx)("input",{type:"text",className:"search-input popup-search-input",value:p,onChange:e=>c(e.target.value),placeholder:"Type to search..."}),(0,a.jsxs)("div",{className:"results popup-results",children:[(0,a.jsx)("h3",{className:"results-header",children:"Results:"}),(0,a.jsx)("ul",{className:"results-list",children:i.length>0?i.map(((e,s)=>(0,a.jsx)("li",{className:"result-item popup-result-item",onClick:()=>((e,s)=>{const r=m[e];r?(d(`${r}?id=${s}`),t()):o.oR.error(`No route mapped for: ${e}`,{position:"top-center",autoClose:3e3,theme:"dark"})})(e.source_table,e.id),style:{cursor:"pointer"},children:(0,a.jsxs)("div",{className:"result-info popup-result-info",children:[(0,a.jsxs)("div",{className:"result-title popup-result-title",children:[e.source_table,": ",e.id]}),Object.entries(e).map(((e,s)=>{let[t,r]=e;return"source_table"!==t&&"id"!==t&&(0,a.jsxs)("div",{className:"result-meta popup-result-meta",children:[(0,a.jsxs)("strong",{children:[t,":"]})," ","string"===typeof r&&r.startsWith("http")?(0,a.jsx)("img",{src:r,alt:t,style:{maxWidth:"100px",borderRadius:"6px",marginTop:"6px"}}):(0,a.jsx)("span",{children:String(r)})]},s)}))]})},s))):(0,a.jsx)("p",{className:"no-results-message",children:"No results found."})})]})]})}),(0,a.jsx)(o.N9,{})]}):null}}}]);
//# sourceMappingURL=609.1bcbb7a2.chunk.js.map