"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[939],{6939:(e,i,a)=>{a.r(i),a.d(i,{default:()=>v});var t,r=a(5043),n="basil",s="https://js.stripe.com",c="".concat(s,"/").concat(n,"/stripe.js"),m=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,o=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,p="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",d=function(e){var i=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",a=document.createElement("script");a.src="".concat(c).concat(i);var t=document.head||document.body;if(!t)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return t.appendChild(a),a},l=null,h=null,g=null,u=function(e){return null!==l?l:(l=new Promise((function(i,a){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(p),window.Stripe)i(window.Stripe);else try{var t=function(){for(var e,i=document.querySelectorAll('script[src^="'.concat(s,'"]')),a=0;a<i.length;a++){var t=i[a];if(e=t.src,m.test(e)||o.test(e))return t}return null}();if(t&&e)console.warn(p);else if(t){if(t&&null!==g&&null!==h){var r;t.removeEventListener("load",g),t.removeEventListener("error",h),null===(r=t.parentNode)||void 0===r||r.removeChild(t),t=d(e)}}else t=d(e);g=function(e,i){return function(){window.Stripe?e(window.Stripe):i(new Error("Stripe.js not available"))}}(i,a),h=function(e){return function(i){e(new Error("Failed to load Stripe.js",{cause:i}))}}(a),t.addEventListener("load",g),t.addEventListener("error",h)}catch(n){return void a(n)}else i(null)}))).catch((function(e){return l=null,Promise.reject(e)}))},b=!1,j=function(){return t||(t=u(null).catch((function(e){return t=null,Promise.reject(e)})))};Promise.resolve().then((function(){return j()})).catch((function(e){b||console.warn(e)}));var f=a(579);const S=function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];b=!0;var t=Date.now();return j().then((function(e){return function(e,i,a){if(null===e)return null;var t=i[0].match(/^pk_test/),r=function(e){return 3===e?"v3":e}(e.version),s=n;t&&r!==s&&console.warn("Stripe.js@".concat(r," was loaded on the page, but @stripe/stripe-js@").concat("7.0.0"," expected Stripe.js@").concat(s,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=e.apply(void 0,i);return function(e,i){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.0.0",startTime:i})}(c,a),c}(e,i,t)}))}("your-publishable-key-here"),v=()=>{const[e]=(0,r.useState)([{id:1,name:"iPhone 13",price:799,image:"https://m.media-amazon.com/images/I/51kVvsTzVhL._AC_SX679_.jpg"},{id:2,name:"Samsung Galaxy S24 Ultra",price:699,image:"https://helios-i.mashable.com/imagery/articles/05dlTp4hFqQv1HZE19rSRE2/hero-image.fill.size_1248x702.v1695053686.jpg"},{id:3,name:"iPhone 14 Pro",price:1299,image:"https://i.pinimg.com/736x/04/b7/9b/04b79b4cdcec72e7ebee3464886d3be5.jpg"},{id:4,name:"Samsung Laptop",price:1999,image:"https://i.pinimg.com/736x/c8/2f/8d/c82f8d7b5f2e251677059b9d78e7ce2c.jpg"},{id:5,name:"Apple Watch",price:399,image:"https://m.media-amazon.com/images/I/51Pzh68ERNL._AC_SY445_.jpg"},{id:6,name:"iPhone 13",price:799,image:"https://m.media-amazon.com/images/I/51kVvsTzVhL._AC_SX679_.jpg"},{id:7,name:"Samsung Galaxy S24 Ultra",price:699,image:"https://helios-i.mashable.com/imagery/articles/05dlTp4hFqQv1HZE19rSRE2/hero-image.fill.size_1248x702.v1695053686.jpg"},{id:8,name:"iPhone 14 Pro",price:1299,image:"https://i.pinimg.com/736x/04/b7/9b/04b79b4cdcec72e7ebee3464886d3be5.jpg"},{id:9,name:"Samsung Laptop",price:1999,image:"https://i.pinimg.com/736x/c8/2f/8d/c82f8d7b5f2e251677059b9d78e7ce2c.jpg"},{id:10,name:"Apple Watch",price:399,image:"https://m.media-amazon.com/images/I/51Pzh68ERNL._AC_SY445_.jpg"},{id:1,name:"iPhone 13",price:799,image:"https://m.media-amazon.com/images/I/51kVvsTzVhL._AC_SX679_.jpg"},{id:12,name:"Samsung Galaxy S24 Ultra",price:699,image:"https://helios-i.mashable.com/imagery/articles/05dlTp4hFqQv1HZE19rSRE2/hero-image.fill.size_1248x702.v1695053686.jpg"},{id:13,name:"iPhone 14 Pro",price:1299,image:"https://i.pinimg.com/736x/04/b7/9b/04b79b4cdcec72e7ebee3464886d3be5.jpg"},{id:14,name:"Samsung Laptop",price:1999,image:"https://i.pinimg.com/736x/c8/2f/8d/c82f8d7b5f2e251677059b9d78e7ce2c.jpg"},{id:15,name:"Apple Watch",price:399,image:"https://m.media-amazon.com/images/I/51Pzh68ERNL._AC_SY445_.jpg"},{id:11,name:"iPhone 13",price:799,image:"https://m.media-amazon.com/images/I/51kVvsTzVhL._AC_SX679_.jpg"},{id:22,name:"Samsung Galaxy S24 Ultra",price:699,image:"https://helios-i.mashable.com/imagery/articles/05dlTp4hFqQv1HZE19rSRE2/hero-image.fill.size_1248x702.v1695053686.jpg"},{id:23,name:"iPhone 14 Pro",price:1299,image:"https://i.pinimg.com/736x/04/b7/9b/04b79b4cdcec72e7ebee3464886d3be5.jpg"},{id:24,name:"Samsung Laptop",price:1999,image:"https://i.pinimg.com/736x/c8/2f/8d/c82f8d7b5f2e251677059b9d78e7ce2c.jpg"},{id:25,name:"Apple Watch",price:399,image:"https://m.media-amazon.com/images/I/51Pzh68ERNL._AC_SY445_.jpg"},{id:1,name:"iPhone 13",price:799,image:"https://m.media-amazon.com/images/I/51kVvsTzVhL._AC_SX679_.jpg"},{id:26,name:"Samsung Galaxy S24 Ultra",price:699,image:"https://helios-i.mashable.com/imagery/articles/05dlTp4hFqQv1HZE19rSRE2/hero-image.fill.size_1248x702.v1695053686.jpg"},{id:27,name:"iPhone 14 Pro",price:1299,image:"https://i.pinimg.com/736x/04/b7/9b/04b79b4cdcec72e7ebee3464886d3be5.jpg"},{id:28,name:"Samsung Laptop",price:1999,image:"https://i.pinimg.com/736x/c8/2f/8d/c82f8d7b5f2e251677059b9d78e7ce2c.jpg"},{id:29,name:"Apple Watch",price:399,image:"https://m.media-amazon.com/images/I/51Pzh68ERNL._AC_SY445_.jpg"},{id:1,name:"iPhone 13",price:799,image:"https://m.media-amazon.com/images/I/51kVvsTzVhL._AC_SX679_.jpg"},{id:30,name:"Samsung Galaxy S24 Ultra",price:1699,image:"https://helios-i.mashable.com/imagery/articles/05dlTp4hFqQv1HZE19rSRE2/hero-image.fill.size_1248x702.v1695053686.jpg"},{id:31,name:"iPhone 14 Pro",price:1299,image:"https://i.pinimg.com/736x/04/b7/9b/04b79b4cdcec72e7ebee3464886d3be5.jpg"},{id:32,name:"Samsung Laptop",price:1999,image:"https://i.pinimg.com/736x/c8/2f/8d/c82f8d7b5f2e251677059b9d78e7ce2c.jpg"},{id:33,name:"Apple Watch",price:399,image:"https://m.media-amazon.com/images/I/51Pzh68ERNL._AC_SY445_.jpg"},{id:1,name:"iPhone 13",price:799,image:"https://m.media-amazon.com/images/I/51kVvsTzVhL._AC_SX679_.jpg"},{id:34,name:"Samsung Galaxy S24 Ultra",price:699,image:"https://helios-i.mashable.com/imagery/articles/05dlTp4hFqQv1HZE19rSRE2/hero-image.fill.size_1248x702.v1695053686.jpg"},{id:35,name:"iPhone 14 Pro",price:1299,image:"https://i.pinimg.com/736x/04/b7/9b/04b79b4cdcec72e7ebee3464886d3be5.jpg"},{id:36,name:"Samsung Laptop",price:1999,image:"https://i.pinimg.com/736x/c8/2f/8d/c82f8d7b5f2e251677059b9d78e7ce2c.jpg"},{id:37,name:"Apple Watch",price:399,image:"https://m.media-amazon.com/images/I/51Pzh68ERNL._AC_SY445_.jpg"}]),[i,a]=(0,r.useState)(""),[t,n]=(0,r.useState)([]),[s,c]=(0,r.useState)("stripe"),[m,o]=(0,r.useState)(!1),[p,d]=(0,r.useState)(""),[l,h]=(0,r.useState)(""),g=e.filter((e=>e.name.toLowerCase().includes(i.toLowerCase()))),u=t.reduce(((e,i)=>e+i.price*i.quantity),0);return(0,f.jsxs)("div",{className:"product-page dark-theme",children:[(0,f.jsxs)("div",{className:"payment-method-selector",children:[(0,f.jsxs)("label",{children:[(0,f.jsx)("input",{type:"radio",value:"stripe",checked:"stripe"===s,onChange:()=>c("stripe")}),"Stripe"]}),(0,f.jsxs)("label",{children:[(0,f.jsx)("input",{type:"radio",value:"dummy",checked:"dummy"===s,onChange:()=>c("dummy")}),"Dummy Payment"]})]}),(0,f.jsx)("div",{className:"search-bar",children:(0,f.jsx)("input",{type:"text",placeholder:"Search products...",value:i,onChange:e=>a(e.target.value)})}),(0,f.jsx)("div",{className:"product-list",children:g.map((e=>(0,f.jsxs)("div",{className:"product-card",children:[(0,f.jsx)("img",{src:e.image,alt:e.name,className:"product-image"}),(0,f.jsx)("h3",{children:e.name}),(0,f.jsxs)("p",{children:["$",e.price]}),(0,f.jsx)("button",{onClick:()=>(e=>{n((i=>i.find((i=>i.id===e.id))?i.map((i=>i.id===e.id?{...i,quantity:i.quantity+1}:i)):[...i,{...e,quantity:1}]))})(e),className:"btn",children:"Add to Cart"})]},e.id)))}),(0,f.jsxs)("div",{className:"cart-section",children:[(0,f.jsx)("h2",{children:"Your Cart"}),0===t.length?(0,f.jsx)("p",{children:"Your cart is empty."}):(0,f.jsxs)("div",{children:[(0,f.jsx)("ul",{className:"cart-items",children:t.map((e=>(0,f.jsxs)("li",{className:"cart-item",children:[(0,f.jsx)("img",{src:e.image,alt:e.name,className:"cart-image"}),(0,f.jsxs)("div",{children:[(0,f.jsx)("h4",{children:e.name}),(0,f.jsxs)("p",{children:["$",e.price," x ",e.quantity]}),(0,f.jsx)("button",{onClick:()=>{return i=e.id,void n((e=>e.filter((e=>e.id!==i))));var i},className:"btn-remove",children:"Remove"})]})]},e.id)))}),(0,f.jsxs)("h3",{children:["Total: $",u.toFixed(2)]}),"stripe"===s?(0,f.jsx)("button",{onClick:async()=>{const e=await S;try{o(!0),d("");const i=await fetch("http://localhost:3001/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:t.map((e=>({id:e.id,name:e.name,quantity:e.quantity,price:e.price})))})});if(!i.ok)throw new Error("Failed to create checkout session");const a=await i.json(),r=await e.redirectToCheckout({sessionId:a.id});r.error&&d(`Stripe error: ${r.error.message}`)}catch(p){console.error("Error during Stripe checkout:",p),d("Failed to process payment. Please try again.")}finally{o(!1)}},className:"btn-checkout",disabled:m||0===t.length,children:m?"Processing...":"Proceed with Stripe"}):(0,f.jsx)("button",{onClick:()=>{o(!0),setTimeout((()=>{h("Dummy Payment Successful!"),n([]),o(!1)}),2e3)},className:"btn-checkout",disabled:m||0===t.length,children:m?"Processing...":"Proceed with Dummy Payment"}),p&&(0,f.jsx)("p",{className:"error",children:p}),l&&(0,f.jsx)("p",{className:"success",children:l})]})]})]})}}}]);
//# sourceMappingURL=939.8836feb3.chunk.js.map